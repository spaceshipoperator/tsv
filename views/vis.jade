h1= config.name
// http://stackoverflow.com/questions/6270832/jade-express-iterating-over-object-in-inline-js-code-client-side
p
script(src='/javascripts/tsv.js')
- if (typeof(series) != null)
  != "<script type='text/javascript'>"
  != "function initData() { "
  != "  var s = " + JSON.stringify(series) + "; "
  != "  var c = " + JSON.stringify(config) + "; "
  != "  plotSeries(s,c); "
  != "}"
  != "</script>"
body(onload="initData()")

form(method="post")
  fieldset
    legend General
    p
      label(for="formOptions[fromDate]") From Date:
        input(type="date", name="formOptions[fromDate]", value=config.fromDate.value)
    p
      label(for="formOptions[untilDate]") From Date:
        input(type="date", name="formOptions[untilDate]", value=config.untilDate.value)
  fieldset
    legend Location
    p
      select(name="formOptions[seriesKeys]", multiple, size=config.series.options.length)
        - for (var i in config.series.options)
          - var e = config.series.options[i]
          option(value=e[0])=e[1]
  p.buttons
    input(type="submit", value="Save")
